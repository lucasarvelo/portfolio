$(document).ready(function(){function e(e){var t=$(".side-nav").find(".is-active"),r=$(".side-nav").children().index(t),l=$(".side-nav").children().length-1,n=0;"swipeup"===e.type||40===e.keyCode||e>0?r!==l?(n=r+1,i(n),s(r,n,l)):(i(n),s(r,n,l)):("swipedown"===e.type||38===e.keyCode||e<0)&&(0!==r?(n=r-1,i(n),s(r,n,l)):(n=l,i(n),s(r,n,l)))}function i(e){$(".side-nav, .outer-nav").children().removeClass("is-active"),$(".side-nav").children().eq(e).addClass("is-active"),$(".outer-nav").children().eq(e).addClass("is-active")}function s(e,i,s){$(".main-content").children().removeClass("section--is-active"),$(".main-content").children().eq(i).addClass("section--is-active"),$(".main-content .section").children().removeClass("section--next section--prev"),e===s&&0===i||0===e&&i===s?$(".main-content .section").children().removeClass("section--next section--prev"):e<i?$(".main-content").children().eq(e).children().addClass("section--next"):$(".main-content").children().eq(e).children().addClass("section--prev"),0!==i&&i!==s?$(".header--cta").addClass("is-active"):$(".header--cta").removeClass("is-active")}function t(){$(".header--nav-toggle").on("click",function(){$(".perspective").addClass("perspective--modalview"),setTimeout(function(){$(".perspective").addClass("effect-rotate-left--animate")},25),$(".outer-nav, .outer-nav li, .outer-nav--return").addClass("is-vis")}),$(".outer-nav--return, .outer-nav li").on("click",function(){$(".perspective").removeClass("effect-rotate-left--animate"),setTimeout(function(){$(".perspective").removeClass("perspective--modalview")},400),$(".outer-nav, .outer-nav li, .outer-nav--return").removeClass("is-vis")})}function r(){$(".slider--prev, .slider--next").on("click",function(){var e=$(this),i=$(".slider").find(".slider--item-left"),s=$(".slider").children().index(i),t=$(".slider").find(".slider--item-center"),r=$(".slider").children().index(t),l=$(".slider").find(".slider--item-right"),n=$(".slider").children().index(l),a=$(".slider").children().length,d=$(".slider--item-left"),o=$(".slider--item-center"),c=$(".slider--item-right"),m=$(".slider--item");$(".slider").animate({opacity:0},400),setTimeout(function(){e.hasClass("slider--next")?s<a-1&&r<a-1&&n<a-1?(d.removeClass("slider--item-left").next().addClass("slider--item-left"),o.removeClass("slider--item-center").next().addClass("slider--item-center"),c.removeClass("slider--item-right").next().addClass("slider--item-right")):s===a-1?(m.removeClass("slider--item-left").first().addClass("slider--item-left"),o.removeClass("slider--item-center").next().addClass("slider--item-center"),c.removeClass("slider--item-right").next().addClass("slider--item-right")):r===a-1?(d.removeClass("slider--item-left").next().addClass("slider--item-left"),m.removeClass("slider--item-center").first().addClass("slider--item-center"),c.removeClass("slider--item-right").next().addClass("slider--item-right")):(d.removeClass("slider--item-left").next().addClass("slider--item-left"),o.removeClass("slider--item-center").next().addClass("slider--item-center"),m.removeClass("slider--item-right").first().addClass("slider--item-right")):0!==s&&0!==r&&0!==n?(d.removeClass("slider--item-left").prev().addClass("slider--item-left"),o.removeClass("slider--item-center").prev().addClass("slider--item-center"),c.removeClass("slider--item-right").prev().addClass("slider--item-right")):0===s?(m.removeClass("slider--item-left").last().addClass("slider--item-left"),o.removeClass("slider--item-center").prev().addClass("slider--item-center"),c.removeClass("slider--item-right").prev().addClass("slider--item-right")):0===r?(d.removeClass("slider--item-left").prev().addClass("slider--item-left"),m.removeClass("slider--item-center").last().addClass("slider--item-center"),c.removeClass("slider--item-right").prev().addClass("slider--item-right")):(d.removeClass("slider--item-left").prev().addClass("slider--item-left"),o.removeClass("slider--item-center").prev().addClass("slider--item-center"),m.removeClass("slider--item-right").last().addClass("slider--item-right"))},400),$(".slider").animate({opacity:1},400)})}function l(){$(".work-request--information input").on("focusout",function(){var e=$(this).val();""===e?$(this).removeClass("has-value"):$(this).addClass("has-value"),window.scrollTo(0,0)})}function n(){$("a.open-modal").on("click",function(e){return $(this).modal({fadeDuration:250}),!1})}var a=!0,d=null;$(this).on("mousewheel DOMMouseScroll",function(i){if(!$(".outer-nav").hasClass("is-vis")){i.preventDefault();var s=i.originalEvent.wheelDelta?-i.originalEvent.wheelDelta:20*i.originalEvent.detail;s>50&&a?(a=!1,clearTimeout(d),d=setTimeout(function(){a=!0},800),e(1)):s<-50&&a&&(a=!1,clearTimeout(d),d=setTimeout(function(){a=!0},800),e(-1))}}),$(".side-nav li, .outer-nav li").on("click",function(){if(!$(this).hasClass("is-active")){var e=$(this),t=e.parent().find(".is-active"),r=e.parent().children().index(t),l=e.parent().children().index(e),n=$(this).parent().children().length-1;i(l),s(r,l,n)}}),$(".cta").on("click",function(){var e=$(".side-nav").find(".is-active"),t=$(".side-nav").children().index(e),r=$(".side-nav").children().length-1,l=r;i(r),s(t,l,r)});var o=document.getElementById("viewport"),c=new Hammer(o);c.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL}),c.on("swipeup swipedown",function(i){e(i)}),$(document).on("keyup",function(i){$(".outer-nav").hasClass("is-vis")||(i.preventDefault(),e(i))}),n(),t(),r(),l()});